<script src="/js/jquery-3.6.0.min.js"></script>
<meta charset="utf-8" />
<form action="/api/data/import" method="POST" enctype="multipart/form-data">
    <p>File: <input type="file" name="file" /></p>
    <p>Upload Type:
        <input type="radio" id="append" name="updateType" value="append" checked>
        <label for="append">Append</label>
        <input type="radio" id="overwrite" name="updateType" value="overwrite">
        <label for="overwrite">Overwrite</label>
        <input type="radio" id="clear_overwrite" name="updateType" value="clear_overwrite">
        <label for="clear_overwrite">Clear & Overwrite</label>
    </p>
    <p>Check duplicate word?
        <input type="radio" id="yes" name="checkDuplicate" value="yes" checked>
        <label for="yes">Yes</label>
        <input type="radio" id="no" name="checkDuplicate" value="no">
        <label for="no">No</label>
    </p>
    <p>Add to word list:
        <select name="wordBookId" id="wordBook">
        </select>
    </p>
    <input type="text" id="userId" name="userId" style="display:none;" />
    <input type="text" id="token" name="token" style="display:none;" />
    <input type="text" id="requestId" name="requestId" style="display:none;" />
    <input type="submit" value="Import" />
</form>
<script>
    $(document).ready(function(){
        $("#userId").val(localStorage.getItem("userId"));
        $("#token").val(localStorage.getItem("token"));
        wordBookList = [];
        $.ajax({
            url: "/api/wordBook",
            method: 'POST',
            async: true,
            dataType: "json",
            data: {
                userId: localStorage.getItem("userId"),
                token: localStorage.getItem("token")
            },
            success: function (r) {
                for (var i = 0; i < r.length; i++)
                    $("#wordBook").append("<option value=" + r[i].wordBookId + ">" + r[i].name + "</option>");
            }
        });
    });
</script>